<div class="reservas-container container">
  <h2>Faça sua reserva</h2>

  <div class="search-row">
    <input type="text" placeholder="Digite o nome do livro ou autor" class="search-bar" />
    <!-- Ícone rápido que leva para Emprestimos (no topo) -->
    <a routerLink="/emprestimos" class="emprestimos-icon" title="Ir para Meus Empréstimos">
      <i class="bi bi-journal-bookmark"></i>
    </a>
  </div>

  <div class="reserva-content d-flex">
    <div class="lista-livros flex-grow-1">
      <div *ngFor="let livro of livros" class="livro-card">
        <div class="info">
          <img src="assets/placeholder.png" alt="capa" class="capa" />
          <div>
            <h3>{{ livro.titulo }}</h3>
            <p class="autor">{{ livro.autor }}</p>
            <p class="status" [ngClass]="livro.status">{{ livro.status | titlecase }}</p>
          </div>
        </div>

        <div class="acoes">
          <button *ngIf="livro.status === 'disponivel'" (click)="reservar(livro)" class="btn btn-success">Reservar</button>
          <button *ngIf="livro.status === 'fila'" (click)="entrarNaFila(livro)" class="btn btn-warning">Entrar na fila</button>
          <button *ngIf="livro.status === 'meu'" (click)="cancelar(livro)" class="btn btn-danger">Cancelar</button>
        </div>
      </div>

      <!-- botão Meus Empréstimos (com ícone) -->
      <div class="mt-3">
        <a routerLink="/emprestimos" class="btn btn-dark">
          <i class="bi bi-journal-bookmark me-2"></i> Meus Empréstimos
        </a>
      </div>
    </div>

    <aside class="resumo ms-4">
      <h4>Resumo da Reserva</h4>

      <div *ngIf="livroReservado; else vazio">
        <img src="assets/placeholder.png" alt="capa" class="mini-capa" />
        <p><b>{{ livroReservado?.titulo }}</b></p>
        <p>{{ livroReservado?.autor }}</p>
        <a routerLink="/emprestimos" class="link-emprestimos" title="Ir para Meus Empréstimos">
          <i class="bi bi-journal-bookmark"></i> Ver meus empréstimos
        </a>
      </div>

      <ng-template #vazio>
        <p>Nenhum livro reservado.</p>
      </ng-template>
    </aside>
  </div>

  <div *ngIf="reservaEfetuada" class="alert alert-success mt-4">
    <i class="bi bi-check-circle-fill me-2"></i> Reserva efetuada com sucesso!
  </div>
</div>
